<!DOCTYPE html>
<html lang="en">
{%load static%}
{%load sheetmusic_tags %}
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Aaron Teng's music website, Computer Science & Music nerd. A cappella arrangements, original classical compositions. {{sheet.title}} - {{sheet.artist}}; {{sheet.instr}}">
  
    <title>{{sheet.title}} | Aaron Teng | Music Website</title>
  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css"  integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
    <link rel="stylesheet" href="{% static 'sheetmusic/css/styles.css' %}">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Delius+Swash+Caps&family=Iceberg&display=swap" rel="stylesheet">
    <!-- <link rel="stylesheet" href="https://cdn.plyr.io/3.8.3/plyr.css" /> video/audio CSS plugin -->

</head>
<body>
    <nav class="navbar navbar-light navbar-expand-sm bg-primary-subtle" data-bs-theme="dark">
        <div class="container-fluid">
            <a class="navbar-brand text-primary-emphasis" href="#" style="font-family:Iceberg">Cappella Catalogue</a>
            <button class="navbar-toggler border-secondary" type="button" data-bs-toggle="collapse" data-bs-target="#site_navbar" aria-controls="site_navbar" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            
            <div class="collapse navbar-collapse" id="site_navbar">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link text-primary-subtle" href="https://ar1s1502.github.io/PersonalSite/" target="_blank">About Me</a>
                    </li>
                    <li class="nav-item active">
                        <a class="nav-link text-primary-subtle"  aria-current="page" href="{% url 'index' %}">Sheet Music</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-primary-subtle" href="{% url 'contact' %}">Inquiries</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    {{sheet_bytes|json_script:"arr-pdf"}}
    {{sheet.price|json_script:"arr-price"}}

    <audio controls class="my-2" id="sheetmp3">
        <source src="{% static sheet.mp3_path %}" type="audio/mp3">
        Your browser doesn't support mp3 audio
    </audio>
    <div class="container mx-5">
        <div class="row">
            <div class="col-md mb-2 justify-content-center">
                <ul class="d-flex justify-content-center align-items-center ms-5 p-0 list-unstyled">
                    <li class="p-1 m-0" >
                        <button type="button" class="btn btn-outline-secondary" id="prevPage" style="visibility:hidden" disabled>
                            <!-- bootstrap icon, arrow left -->
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-compact-left" viewBox="0 0 16 16">
                                <path fill-rule="evenodd" d="M9.224 1.553a.5.5 0 0 1 .223.67L6.56 8l2.888 5.776a.5.5 0 1 1-.894.448l-3-6a.5.5 0 0 1 0-.448l3-6a.5.5 0 0 1 .67-.223"/>
                            </svg>
                        </button>
                    </li>
                    <li class="p-0 m-0">
                        <div class="card bg-white border-2 p-1 justify-content-center" id="canvas-card" >
                            <canvas id="sheetcanvas"></canvas>
                        </div>
                    </li>
                    <li class="p-1 m-0">
                        <button type="button" class="btn btn-outline-secondary" id="nextPage">
                            <!-- bootstrap icon, arrow right -->
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-compact-right" viewBox="0 0 16 16">
                                <path fill-rule="evenodd" d="M6.776 1.553a.5.5 0 0 1 .671.223l3 6a.5.5 0 0 1 0 .448l-3 6a.5.5 0 1 1-.894-.448L9.44 8 6.553 2.224a.5.5 0 0 1 .223-.671"/>
                            </svg>
                        </button>
                    </li>
                </ul>
            </div>
            <div class="col-md ms-1 justify-content-center">
                <div class="card border-0 justify-content-center">
                    <h4 class="card-title text-center mb-0 pt-3">{{sheet.title}} - {{sheet.artist}}</h4>
                    <div class="card-body">
                        <ul class="sheet-info list-group list-group-flush">
                        {% if sheet.synopsis %}
                            <li class="list-group-item p=0 m-0 border-0">
                                {{sheet.synopsis}}
                            </li>
                        {% endif %}
                            <li class="list-group-item p=0 m-0 border-0">
                                Instrumentation: {{sheet.instr}}
                            </li>
                            <li class="list-group-item p=0 m-0 border-0">
                                Price: {{sheet.price|convert_price}}
                            </li>
                            <li class="list-group-item p=0 mb-1 border-0">
                                <a href="{% url 'index' %}buy/{{sheet.id}}" class="btn btn-outline-primary" style="border-radius:20px">Buy this arrangement</a>
                            </li>
                        </ul>
                </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://unpkg.com/pdfjs-dist@latest/build/pdf.min.mjs" type="module"></script>
    <script src="{% static 'sheetmusic/js/sheet.js' %}" type="module"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>
</body>